{#
	A class containing macros for various forms such as the log in form and sign up form.
#}


{# Generates the login form used for logging in. #}
{% macro login_form() %}
	<form id="login-form">
		<fieldset>
			<legend>Login</legend>

			<label for="username">Username:</label>
			<input id="username" name="username" type="text" placeholder="Username">

			<label for="password">Password:</label>
			<input id="password" name="password"  type="password" placeholder="Password">

			<br />

			<button id="login-btn" type="submit" class="btn btn-primary">Log In</button>
		</fieldset>
	</form>
{% endmacro %}


{# Generates the signup form used for creating an account. #}
{% macro signup_form() %}
	<form id="signup-form">
		<fieldset>
			<legend>Create an account</legend>

			<label for="username">Username</label>
			<input id="username" type="text" placeholder="Username" required>
			<!-- <span class="help-block">Your username must </span> -->

			<label for="email">Email address</label>
			<input id="email" name="email" type="email" placeholder="your@email.com" required>
			<span class="help-block">We will <b>never</b> give out your email address. We will only use it to send you important notifications about your account (not annoying spam) and to verify your account so we can make sure you're not an evil robot from the future.</span>

			<label for="password">Password</label>
			<input id="password" name="password"  type="password" placeholder="Password" required><br/>
			<input id="repeatpwd" name="repeatpwd" type="password" placeholder="Repeat password" maxlength="32" required>

			<br />

			<button id="submitbtn" type="submit" class="btn btn-primary">Submit</button>
		</fieldset>
	</form>
{% endmacro %}


{#
	Generates the navbar shown at the top of the page.
	
	If username is specified, shows an account dropdown menu on the right. Otherwise, shows a log in and create account button.
#}
{% macro navbar() %}
	<div class="navbar">
		<div class="navbar-inner">
			<a class="brand" href="/">Synctron</a>
			<ul class="nav">
				<li><a href="/">Home</a></li>
			</ul>

			<ul class="nav pull-right">
				{% if "username" not in session %}

				<li><a href="/login">Log In</a></li>
				<li><a href="/signup">Create Account</a></li>

				{% else %}

				<li><a href="/create_room">Create a Room</a></li>

				<li class="dropdown">
					<a href="#" class="dropdown-toggle" data-toggle="dropdown">
						{{ session["username"] }}
						<b class="caret"></b>
					</a>
					<ul class="dropdown-menu">
						<li><a href="#">Account Settings</a></li>
						<li class="divider"></li>
						<li><a href="/logout">Log Out</a></li>
					</ul>
				</li>

				{% endif %}
			</ul>
		</div>
	</div>
{% endmacro %}
